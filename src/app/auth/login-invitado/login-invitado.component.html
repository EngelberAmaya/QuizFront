<app-navbar></app-navbar>

<div class="containerr">

    <div class="forms-container">
        <div class="signin-signup">

            <form class="sign-in-form" [formGroup]="formularioUno">
                <h2 class="title mb-5">Login</h2>

                <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Correo Electrónico</mat-label>
                    <input type="email" matInput placeholder="Ex. pat@example.com" formControlName="email">                    
                </mat-form-field>

                <div *ngIf="email?.errors && (email?.dirty || email?.touched)">
                    <mat-error *ngIf="email?.hasError('email') && !email?.hasError('required')">
                      Campo Email no Válido
                    </mat-error>
                    <mat-error *ngIf="email?.hasError('required')">
                      Email es <strong>requerido</strong>
                    </mat-error>
                </div>

                <mat-form-field class="example-full-width mt-2" appearance="fill">
                    <mat-label>Contraseña</mat-label>
                    <input matInput  type="password" formControlName="password">

                </mat-form-field>

                <div *ngIf="password?.errors && (password?.dirty || password?.touched)">
                    <mat-error *ngIf="password?.hasError('required')">
                        Contraseña es <strong>requerida</strong>
                    </mat-error>
                </div>

               
                <button class="btn solid" [disabled]="formularioUno.invalid">Entrar</button>
                <p class="social-text" style="color: red;font-weight: bold;font-size: 20px;" *ngIf="avail">{{msg}}</p>
                
            </form>

            <form [formGroup]="formularioDos" class="sign-up-form">
                <h2 class="title mb-5">Regístrate</h2>

                <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Correo Electrónico</mat-label>
                    <input type="email" matInput placeholder="Ex. pat@example.com" formControlName="email2">                    
                </mat-form-field>

                <div *ngIf="email2?.errors && (email2?.dirty || email2?.touched)">
                    <mat-error *ngIf="email2?.hasError('email') && !email2?.hasError('required')">
                      Campo Email no Válido
                    </mat-error>
                    <mat-error *ngIf="email2?.hasError('required')">
                      Email es <strong>requerido</strong>
                    </mat-error>
                </div>

                <mat-form-field class="example-full-width mt-2" appearance="fill">
                    <mat-label>Telefono</mat-label>
                    <input matInput  type="number" formControlName="phone">

                </mat-form-field>

                <div *ngIf="phone?.errors && (phone?.dirty || phone?.touched)">
                    <mat-error *ngIf="phone?.hasError('required')">
                        Telefono es <strong>requerido</strong>
                    </mat-error>
                </div>

                <mat-form-field class="example-full-width mt-2" appearance="fill">
                    <mat-label>Contraseña</mat-label>
                    <input matInput  type="password" formControlName="password2">

                </mat-form-field>

                <div *ngIf="password2?.errors && (password2?.dirty || password2?.touched)">
                    <mat-error *ngIf="password2?.hasError('required')">
                        Contraseña es <strong>requerida</strong>
                    </mat-error>
                </div>

                <mat-form-field class="example-full-width mt-2" appearance="fill">
                    <mat-label>Repetir Contraseña</mat-label>
                    <input matInput  type="password" formControlName="password3">

                </mat-form-field>

                <div *ngIf="password3?.errors && (password3?.dirty || password3?.touched)">
                    <mat-error *ngIf="password3?.hasError('required')">
                        Contraseña es <strong>requerida</strong>
                    </mat-error>

                </div>

                <div class="row">
                    <div class="col text-danger">
                        <p *ngIf="camposNoIguales()">Las Contraseñas deben ser iguales</p>
                    </div>
                </div>

                <div class="text-center">
                    <mat-spinner *ngIf="spiner"></mat-spinner>
                </div>               


                <button type="submit" class="btn solid" (click)="guardarUsuario()" [disabled]="formularioDos.invalid">Guardar</button>
                <p class="social-text" style="color: red;font-weight: bold;font-size: 20px;" *ngIf="avail">{{msg}}</p>

            </form>
        </div>
    </div>

    <div class="panels-container">

        <div class="panel left-panel">
          <div class="content">
            <h3>No te has registrado ?</h3>
           
            <button class="btn transparent mt-3" id="sign-up-btn" (click)="signinup()">
                Regístrate
            </button>
          </div>
          <img src="../../../assets/img/l.svg" class="image" alt="" />
        </div>
    
        <div class="panel right-panel">
          <div class="content">
            <h3>Ya estas registrado ?</h3>
            <button class="btn transparent" id="sign-in-btn" (click)="signinup()">
                Login
            </button>
          </div>
          <img src="../../../assets/img/r.svg" class="image" alt="" />
        </div>
    </div>
</div>
